<!-- <html>

  <head>
    <script async src="https://ssp.igaw.io/sdk/apsspads.js"></script>
    <style>
      .ad-banner {}
      .ad-native {
      }
    </style>
  </head>

  <body>
    <p>startBanner</p>
    <div id="startBanner" class="ad-banner"></div>
    <p>classTabBanner</p>
    <div id="classTabBanner" class="ad-banner"></div>
    <p>insightTabBanner</p>
    <div id="insightTabBanner" class="ad-banner"></div>
    <p>moreTabBanner</p>
    <div id="moreTabBanner" class="ad-banner"></div>
    <p>notiBanner</p>
    <div id="notiBanner" class="ad-banner"></div>
    <p>postNative</p>
    <div id="postNative" class="ad-native"></div>
    <p>classTalkNative</p>
    <div id="classTalkNative" class="ad-native"></div>
    <p>notiNative</p>
    <div id="notiNative" class="ad-native"></div>
  </body>

  <script>

    
    const ANDROID_APP_KEY = '783297646';
    const IOS_APP_KEY = '139927226';

    const DeviceType = {
      ANDROID: 'classting_android',
      IOS: 'classting_iphone',
    };

    const placementID = {
      startBannerAndroid: 'ZsytBTVlmEsGncC',
      classTabBannerAndroid: 'FDDJtGyANP9SCvO',
      insightTabBannerAndroid: 'ZPkQPzySErw5V9A',
      moreTabBannerAndroid: '6s4yzJoPcie21Yz',
      notiBannerAndroid: 'JoDQk2seGrDx0ta',
      startBannerIOS: 'tUuF2VsGb77rB9F',
      classTabBannerIOS: 'IcuXseZsidAQYi8',
      insightTabBannerIOS: 'RaJKyE4nkahUIP8',
      moreTabBannerIOS: 'xUPzBinjJ0Mu2SV',
      notiBannerIOS: 'GMhXVLGobYtqUq1',
      postNativeAndroid: 'lViRqs5grqXHbw9',
      classTalkNativeAndroid: 'SbZkG7WkiEFyTk1',
      notiNativeAndroid: 'VIT89RLZ2am3YQr',
      postNativeIOS: 'di6gllh0x0VaKG0',
      classTalkNativeIOS: 'M3faloe3AtW6tkn',
      notiNativeIOS: 'sXG66shkLnbncQd',
    };

    const adUnitID = {
      startBannerAndroid: 'Classting_Start_Banner_Android-N256497692',
      classTabBannerAndroid: 'Classting_ClassTAB_Banner_Android-N256497692',
      insightTabBannerAndroid: 'Classting_InsigtTAB_Banner_Android-N256497692',
      moreTabBannerAndroid: 'Classting_MoreTAB_Banner_Android-N256497692',
      notiBannerAndroid: 'Classting_Noti_Banner_Android-N256497692',
      startBannerIOS: 'Classting_Start_Banner_iOS-N256497692',
      classTabBannerIOS: 'Classting_ClassTAB_Banner_iOS-N256497692',
      insightTabBannerIOS: 'Classting_InsigtTAB_Banner_iOS-N256497692',
      moreTabBannerIOS: 'Classting_MoreTAB_Banner_iOS-N256497692',
      notiBannerIOS: 'Classting_Noti_Banner_iOS-N256497692',
      postNativeAndroid: 'Classting_Post_Native_Android-N256497692',
      classTalkNativeAndroid: 'Classting_Class_Talk_Native_Android-N256497692',
      notiNativeAndroid: 'Classting_Noti_Native_Android-N256497692',
      postNativeIOS: 'Classting_Post_Native_iOS-N256497692',
      classTalkNativeIOS: 'Classting_Class_Talk_Native_iOS-N256497692',
      notiNativeIOS: 'Classting_Noti_Native_iOS-N256497692',
    };

    const device = window.navigator.userAgent;
    const isAndroid = device.includes(DeviceType.ANDROID);
    const appKey = isAndroid ? ANDROID_APP_KEY : IOS_APP_KEY;

    window.apsspads = window.apsspads || {
      cmd: []
    };
    apsspads.cmd.push(function() {
      apsspads.setConfig({
        pubId: appKey,
        nam: true
      });
      apsspads.defineAdUnits(
        [
          // {
//           code: "startBanner",
//           plcmtId: isAndroid ? placementID.startBannerAndroid : placementID.startBannerIOS,
//           size: [300, 250],
//           fallback: {
//             nam: {
//               adUnitId: isAndroid ? adUnitID.startBannerAndroid : adUnitID.startBannerIOS
//             }
//           }
//         },
//         {
//           code: "classTabBanner",
//           plcmtId: isAndroid ? placementID.classTabBannerAndroid : placementID.classTabBannerIOS,
//           size: [300, 250],
//           fallback: {
//             nam: {
//               adUnitId: isAndroid ? adUnitID.classTabBannerAndroid : adUnitID.classTabBannerIOS
//             }
//           }
//         },
//         {
//           code: "insightTabBanner",
//           plcmtId: isAndroid ? placementID.insightTabBannerAndroid : placementID.insightTabBannerIOS,
//           size: [300, 250],
//           fallback: {
//             nam: {
//               adUnitId: isAndroid ? adUnitID.insightTabBannerAndroid : adUnitID.insightTabBannerIOS
//             }
//           }
//         },
//         {
//           code: "moreTabBanner",
//           plcmtId: isAndroid ? placementID.moreTabBannerAndroid : placementID.moreTabBannerIOS,
//           size: [300, 250],
//           fallback: {
//             nam: {
//               adUnitId: isAndroid ? adUnitID.moreTabBannerAndroid : adUnitID.moreTabBannerIOS
//             }
//           }
//         },
        {
          code: "notiBanner",
          plcmtId: isAndroid ? placementID.notiBannerAndroid : placementID.notiBannerIOS,
          size: [300, 250],
          fallback: {
            nam: {
              adUnitId: isAndroid ? adUnitID.notiBannerAndroid : adUnitID.notiBannerIOS
            }
          }
        },
//         {
//           code: "postNative",
//           plcmtId: isAndroid ? placementID.postNativeAndroid : placementID.postNativeIOS,
//           fallback: {
//             nam: {
//               adUnitId: isAndroid ? adUnitID.postNativeAndroid : adUnitID.postNativeIOS
//             }
//           }
//         }, {
//           code: "classTalkNative",
//           plcmtId: isAndroid ? placementID.classTalkNativeAndroid : placementID.classTalkNativeIOS,
//           fallback: {
//             nam: {
//               adUnitId: isAndroid ? adUnitID.classTalkNativeAndroid : adUnitID.classTalkNativeIOS
//             }
//           }
//         },
        {
          code: "notiNative",
          plcmtId: isAndroid ? placementID.notiNativeAndroid : placementID.notiNativeIOS,
          fallback: {
            nam: {
              adUnitId: isAndroid ? adUnitID.notiNativeAndroid : adUnitID.notiNativeIOS
            }
          }
        },
      ]
      );



      // apsspads.setClickHandler(function(code, curl) { // 광고 클릭 시 실행
        // code: 광고 노출 영역 (HTML Element)의 Id
        // curl: 클릭 URL
        // window.ReactNativeWebView.postMessage(JSON.stringify({
        //   category: 'navigation',
        //   type: 'open',
        //   payload: {
        //     url: curl,
        //   },
        // }));
       
      // });

      apsspads.addEventListener('loaded', function (obj) {
         console.log('loaded', {obj});
      });
      apsspads.addEventListener("error", function(obj) { // 광고 미 노출 시 호출
        console.log('에러 :', obj); // {providerName: "apssp|nam", code: "banner", stat: 0}
      });
      apsspads.requestBids();
    });
  </script>

</html>
 -->

 <html
  <head>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <style>
      html, body { margin: 0; padding: 0; }
    </style>
<!--     <script type="text/javascript" src="https://ssl.pstatic.net/tveta/libs/glad/prod/gfp-core.js" async></script> -->
    <script type="text/javascript" src="https://ssp.igaw.io/sdk/apsspads.js" async></script>
<!--     <script type="text/javascript" src="https://ssl.pstatic.net/tveta/libs/glad/prod/2.20.0/gfp-sdk.js" async></script>
    <script type="text/javascript" src="https://ssl.pstatic.net/tveta/libs/glad/prod/2.20.0/gfp-ext-nda.js" async></script> -->
  <body>
    <div id="tUuF2VsGb77rB9F" class="ad-banner"></div>
    <script type="text/javascript">

      window.apsspads = window.apsspads || { cmd: [] };

function postToNative(event, payload) {
  if (window.ReactNativeWebView && typeof window.ReactNativeWebView.postMessage === 'function') {
    window.ReactNativeWebView.postMessage(JSON.stringify({
      type: 'foo',
      event: event,
      payload: payload
    }));
  }
}

function measureAdElement() {
  var adElement = document.getElementById('tUuF2VsGb77rB9F');
  return {
    width: adElement.width,
    height: adElement.height,
  };
}

apsspads.cmd.push(function() {
  apsspads.setConfig({
    pubId: '139927226',
    nam: true,
  });

  apsspads.defineAdUnits(
    [
      {
        code: 'tUuF2VsGb77rB9F',
        plcmtId: 'tUuF2VsGb77rB9F',
        size: [300, 250],
        fallback: {
          nam: {
            adUnitId: 'Classting_Start_Banner_iOS-N256497692'
          }
        }
      }
    ]
  );

  apsspads.addEventListener('loaded', function (result) {
    console.log('loaded', result)
    postToNative('loaded', { result: result, layout: measureAdElement() });
  });

  apsspads.addEventListener('error', function (error) {
    console.log('error', error)
    postToNative('error', { message: 'error', detail: error });
  });

    apsspads.addEventListener('clicked', function (event) {
    console.log('clicked', event)
    postToNative('clicked', { message: 'clicked', detail: event });
  });

  // apsspads.setClickHandler(function(code, curl) {
  //   postToNative('click', { code: code, curl: curl });
  // });

  apsspads.requestBids();
});

    </script>
  </body>
</html>
