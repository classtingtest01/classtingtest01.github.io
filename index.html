<html>

  <head>
    <script async src="https://ssp.igaw.io/sdk/apsspads.js"></script>
    <style>
      .ad-banner {
        height: 80px;
      }
    </style>
  </head>

  <body>
    <p>안녕</p>
    <div id="startBannerAndroid" class="ad-banner"></div>
    <div id="classTabBannerAndroid" class="ad-banner"></div>
    <div id="insightTabBannerAndroid" class="ad-banner"></div>
    <div id="moreTabBannerAndroid" class="ad-banner"></div>
    <div id="notiBannerAndroid" class="ad-banner"></div>
    <div id="startBannerIOS" class="ad-banner"></div>
    <div id="classTabBannerIOS" class="ad-banner"></div>
    <div id="insightTabBannerIOS" class="ad-banner"></div>
    <div id="moreTabBannerIOS" class="ad-banner"></div>
    <div id="notiBannerIOS" class="ad-banner"></div>
  </body>

  <script>
    const ANDROID_APP_KEY = '783297646';
    const ANDROID_PLACEMENT_ID = 'ZsytBTVlmEsGncC';

    const IOS_APP_KEY = '139927226';
    const IOS_PLACEMENT_ID = 'tUuF2VsGb77rB9F';

    const DeviceType = {
      ANDROID: 'classting_android',
      IOS: 'classting_iphone',
    };

    const placementID = {
      startBannerAndroid: 'ZsytBTVlmEsGncC',
      classTabBannerAndroid: 'FDDJtGyANP9SCvO',
      insightTabBannerAndroid: 'ZPkQPzySErw5V9A',
      moreTabBannerAndroid: '6s4yzJoPcie21Yz',
      notiBannerAndroid: 'JoDQk2seGrDx0ta',
      startBannerIOS: 'tUuF2VsGb77rB9F',
      classTabBannerIOS: 'IcuXseZsidAQYi8',
      insightTabBannerIOS: 'RaJKyE4nkahUIP8',
      moreTabBannerIOS: 'xUPzBinjJ0Mu2SV',
      notiBannerIOS: 'GMhXVLGobYtqUq1',
    };

    const adUnitID = {
      startBannerAndroid: 'Classting_Start_Banner_Android-N256497692',
      classTabBannerAndroid: 'Classting_ClassTAB_Banner_Android-N256497692',
      insightTabBannerAndroid: 'Classting_InsigtTAB_Banner_Android-N256497692',
      moreTabBannerAndroid: 'Classting_MoreTAB_Banner_Android-N256497692',
      notiBannerAndroid: 'Classting_Noti_Banner_Android-N256497692',
      startBannerIOS: 'Classting_Start_Banner_iOS-N256497692',
      classTabBannerIOS: 'Classting_ClassTAB_Banner_iOS-N256497692',
      insightTabBannerIOS: 'Classting_InsigtTAB_Banner_iOS-N256497692',
      moreTabBannerIOS: 'Classting_MoreTAB_Banner_iOS-N256497692',
      notiBannerIOS: 'Classting_Noti_Banner_iOS-N256497692',
    };

    const device = window.navigator.userAgent;
    const isAndroid = device.includes(DeviceType.ANDROID);
    const appKey = isAndroid ? ANDROID_APP_KEY : IOS_APP_KEY;
    const placementId = isAndroid ? ANDROID_PLACEMENT_ID : IOS_PLACEMENT_ID;

    var apsspads = window.apsspads || {
      cmd: []
    };
    apsspads.cmd.push(function() {
      apsspads.setConfig({
        pubId: appKey,
        nam: true
      }); // 애드팝콘 앱키
      apsspads.defineAdUnits([{
          code: "startBannerAndroid",
          plcmtId: isAndroid ? placementID.startBannerAndroid : placementID.startBannerIOS,
          size: [300, 250],
          fallback: {
            nam: {
              adUnitId: isAndroid ? adUnitId.startBannerAndroid : adUnitId.startBannerIOS
            }
          }
        },
        {
          code: "classTabBannerAndroid",
          plcmtId: isAndroid ? placementID.classTabBannerAndroid : placementID.classTabBannerIOS,
          size: [300, 250],
          fallback: {
            nam: {
              adUnitId: isAndroid ? adUnitId.classTabBannerAndroid : adUnitId.classTabBannerIOS
            }
          }
        },
        {
          code: "insightTabBannerAndroid",
          plcmtId: isAndroid ? placementID.insightTabBannerAndroid : placementID.insightTabBannerIOS,
          size: [300, 250],
          fallback: {
            nam: {
              adUnitId: isAndroid ? adUnitId.insightTabBannerAndroid : adUnitId.insightTabBannerIOS
            }
          }
        },
        {
          code: "moreTabBannerAndroid",
          plcmtId: isAndroid ? placementID.startBannerAndroid : placementID.moreTabBannerIOS,
          size: [300, 250],
          fallback: {
            nam: {
              adUnitId: isAndroid ? adUnitId.startBannerAndroid : adUnitId.moreTabBannerIOS
            }
          }
        },
        {
          code: "notiBannerAndroid",
          plcmtId: isAndroid ? placementID.notiBannerAndroid : placementID.notiBannerIOS,
          size: [300, 250],
          fallback: {
            nam: {
              adUnitId: isAndroid ? adUnitId.notiBannerAndroid : adUnitId.notiBannerIOS
            }
          }
        },
      ]);
      apsspads.addEventListener("error", function(obj) { // 광고 미 노출 시 호출
        console.log('에러 :', obj); // {providerName: "apssp|nam", code: "banner", stat: 0}
      });
      apsspads.requestBids();
    });
  </script>

</html>
